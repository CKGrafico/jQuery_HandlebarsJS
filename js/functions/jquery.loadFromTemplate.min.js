!function(a){var t={};a.fn.loadFromTemplate=function(e){var l,c=!1;l=a.extend({},a.fn.loadFromTemplate.dafaults,e);var n={getData:function(){if("object"==typeof l.data)n.renderData.call(this,l.data);else{var t=this;a.getJSON(l.data,function(a){n.renderData.call(t,a)})}},renderData:function(a){var e=t[l.template](a);"html"==l.render_method?this.html(e).each(l.callbackPerEach):this.append(e).each(l.callbackPerEach),n.doCallback.call(this)},compileTemplate:function(){var e=a(l.template);if(e.length)t[l.template]=Handlebars.compile(l.template),n.getData.call(this);else{var c=this;a.ajax({url:l.path+l.template+l.extension,success:function(a){t[l.template]=Handlebars.compile(a),n.getData.call(c)},async:l.async_mode})}},doCallback:function(){c||(c=!0,l.callback?l.callback.call(this):"function"==typeof e&&e.call(this))}};return"function"==typeof t[l.template]?n.getData.call(this):n.compileTemplate.call(this),this},a.fn.loadFromTemplate.dafaults={template:"template",data:"data.json",path:"/templates/",render_method:"append",extension:".hbs",callback:a.noop,async_mode:!0,callbackPerEach:a.noop}}(jQuery);
