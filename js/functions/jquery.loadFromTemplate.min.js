(function(e){var t={};e.fn.loadFromTemplate=function(n){var r=false;options=e.extend({},e.fn.loadFromTemplate.dafaults,n);var i={getData:function(){if(typeof options.data=="object"){i.renderData.call(this,options.data)}else{var t=this;e.getJSON(options.data,function(e){i.renderData.call(t,e)})}},renderData:function(e){var n=t[options.template](e);if(options.render_method=="html"){this.html(n).each(options.callbackPerEach)}else{this.append(n).each(options.callbackPerEach)}i.doCallback.call(this)},compileTemplate:function(){var n=e(options.template);if(n.length){t[options.template]=Handlebars.compile(options.template);i.getData.call(this)}else{var r=this;e.get(options.path+options.template+options.extension,function(e){t[options.template]=Handlebars.compile(e);i.getData.call(r)})}},doCallback:function(){if(!r){r=true;if(options.callback){options.callback.call(this)}else if(typeof n=="function"){n.call(this)}}}};if(typeof t[options.template]=="function"){i.getData.call(this)}else{i.compileTemplate.call(this)}return this};e.fn.loadFromTemplate.dafaults={template:"template",data:"data.json",path:"/templates/",render_method:"append",extension:".hbs",callback:e.noop,callbackPerEach:e.noop}})(jQuery)
